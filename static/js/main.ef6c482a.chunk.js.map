{"version":3,"sources":["lib/utils/index.js","lib/utils/helpers/index.js","lib/utils/validators/index.js","lib/utils/validation.js","ui/hooks/useForm.js","ui/form/form-wrapper.js","ui/blocks/if.js","ui/blocks/heading.js","ui/hooks/use-form-values.js","ui/form/input-button.js","ui/hooks/use-form-api.js","meta/fake-single-element.js","components/new-project.js","meta/index.js","ui/hooks/use-form-handler.js","ui/hooks/use-form-value.js","ui/blocks/form-errors.js","ui/form/elements/input.js","ui/hooks/use-controll-error.js","ui/form/input-field.js","ui/form/elements/text-area.js","ui/form/input-multiline.js","ui/form/remove-field.js","ui/form/elements/select.js","ui/form/select-field.js","components/project-info.js","components/projects.js","components/dump.js","ui/layout/container.js","ui/layout/columns.js","components/form-save.js","ui/hooks/use-form-errors.js","ui/form/input-tag.js","ui/form/tag.js","components/project-tags.js","components/user-name.js","meta/fake-values.js","components/form-controlls.js","ui/hooks/use-is-submittable.js","App.js","index.js"],"names":["get","obj","path","defaultVal","parts","split","filter","x","attempt","part","undefined","deepCopy","src","target","Array","isArray","prop","value","set","Object","toString","match","slice","reduce","a","c","i","Math","abs","length","isNull","isString","isNumber","val","Number","isNaN","validators","isRequired","isUndefined","trim","isEmptyString","isBetween","min","max","validateFormValue","config","rules","keys","errors","forEach","ruleName","validationMeta","meta","validationFunction","push","errorText","console","error","reducer","state","action","type","payload","Error","FormContext","createContext","FormContextProvider","children","Provider","FormikContext","initialValues","onSubmit","onBeforeSubmit","formInitials","useRef","useReducer","formValues","formErrors","isDirty","dispatch","onFieldChanged","event","validationRules","elementName","controlValue","predefinedName","persist","name","elementPath","fieldErrors","formApi","data","newElement","newFormState","getArrayValues","removeAt","index","splice","setField","setTimeout","revertForm","current","log","onFieldBlur","e","preventDefault","freeOfErrors","el","values","useForm","onFormSubmit","onProcess","If","condition","Heading","label","useFormValues","useContext","Button","onClick","icon","buttonClass","disabled","ripple","rest","classNames","className","width","alt","useFormApi","project","details","duration","units","NewProjectDetails","addNewDetail","useCallback","role","textValidationRules","durationValidationRules","projectValidationRules","unitValidationRules","useControllHandler","useFormValue","controlName","FormErrors","validationErrors","map","err","TextInputControll","onChange","onBlur","id","placeholder","htmlFor","useControllError","InputField","TextAreatControll","rows","for","InputMultiline","RemoveElement","onRemove","SelectControll","React","forwardRef","props","ref","elValue","options","SelectField","isDynamic","fieldSrc","createRef","finalOptions","find","ProjectInfo","base","Projects","notes","n","Dump","JSON","stringify","Container","Column","cssClass","FormSave","memo","InputTag","elementRef","onKey","code","onKeyPress","Tag","ProjectTags","projectNames","v","UserName","initialFakeValues","test","userName","FormControlls","isOk","useIsSubmittable","reloadForm","App","alert","WebComponentApp","Component","customElements","define","reactToWebComponent","ReactDOM"],"mappings":"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","file":"static/js/main.ef6c482a.chunk.js","sourcesContent":["export const get = (obj, path, defaultVal) => {\n    const parts = path.split(/[\\]\\[\\.]/).filter(x =>x);\n    let attempt = obj;\n    for (let part of parts) {\n      if(attempt == null || attempt[part] === undefined) return defaultVal;\n      attempt = attempt[part];\n    }\n    return attempt;\n  }\n\n  export const deepCopy = (src) => {\n    let target = Array.isArray(src) ? [] : {};\n    for (let prop in src) {\n      let value = src[prop];\n      if(value && typeof value === 'object') {\n        target[prop] = deepCopy(value);\n    } else {\n        target[prop] = value;\n    }\n   }\n      return target;\n}\n  \n\n\n  export const set = (obj, path, value) => {\n    if (Object(obj) !== obj) return obj; // When obj is not an object\n    // If not yet an array, get the keys from the string-path\n    if (!Array.isArray(path)) path = path.toString().match(/[^.[\\]]+/g) || []; \n    path.slice(0,-1).reduce((a, c, i) => // Iterate all of them except the last one\n         Object(a[c]) === a[c] // Does the key exist and is its value an object?\n             // Yes: then follow that path\n             ? a[c] \n             // No: create the key. Is the next key a potential array-index?\n             : a[c] = Math.abs(path[i+1])>>0 === +path[i+1] \n                   ? [] // Yes: assign a new array object\n                   : {}, // No: assign a new plain object\n         obj)[path[path.length-1]] = value; // Finally assign the value to the last key\n    return obj; // Return the top-level object to allow chaining\n};\n\n","export const isArray = value => Array.isArray(value);\n\nexport const isEmptyString = value =>\n    isString(value) && value.trim().length === 0;\n\nexport const isFunction = value => typeof value === 'function';\n\nexport const isUndefined = value => value === undefined;\n\nexport const isNil = value => isNull(value) || isUndefined(value);\n\nexport const isNull = value => value === null;\n\nexport const isString = value => typeof value === 'string';\n\nexport const isNumber = value => typeof value === 'number';","import { isNil, isEmptyString } from \"../helpers\";\n\nconst isRequired = (val) => {\n    return isNil(val) || isEmptyString(val) ? false : true;\n}\n\nconst isBetween = (val, {min, max}) => {\n    return isNumber(val) && val <= max && val >= min;\n}\n\nconst isNumber = (val) => {\n    return !Number.isNaN(val)\n}\n\nexport const validators = {\n    isRequired,\n    isBetween,\n    isNumber,\n}\n","import { validators } from \"./validators\";\n\nexport const validateFormValue = (value, config, breakOnFirstError = false) => {\n    const rules = Object.keys(config);\n\n    const errors = [];\n\n    rules.forEach((ruleName)=>{\n\n        const validationMeta = config[ruleName].meta ? config[ruleName].meta : null;\n        const validationFunction = config[ruleName].validationFunction \n            ? config[ruleName].validationFunction\n            : validators[ruleName];\n        const validated = validationFunction(value, validationMeta);\n       if(!validated) {\n           errors.push(config[ruleName].errorText)\n           console.error(`Rule ${ruleName} is violated`);\n       } \n    });\n\n    return errors;\n}","import { useReducer, useRef } from \"react\";\nimport { set, get, deepCopy } from \"../../lib/utils\";\nimport { validateFormValue } from \"../../lib/utils/validation\";\n\nfunction reducer(state, action) {\n    switch (action.type) {\n      case 'CHANGED_FIELD':\n        return action.payload;\n      case 'ARRAY_MUTATED':\n        return action.payload;\n      default:\n        throw new Error(\"Action required in reducer\");\n    }\n  }\n\nexport const useForm = (initialValues, onSubmit, onBeforeSubmit) => {\n    const formInitials = useRef(deepCopy(initialValues));\n    \n    const [state, dispatch] = useReducer(reducer, {formValues: deepCopy(initialValues), formErrors: {}, isDirty: false});\n\n    const onFieldChanged = (event, validationRules, predefinedName=null, predefinedValue=null) => {\n       let elementName;\n       let controlValue\n       if (predefinedName) {\n        elementName = predefinedName;\n        controlValue = predefinedValue;\n       } else {\n        event.persist();\n        elementName = event.target.name;\n        controlValue = event.target.value;\n       } \n\n        const payload = deepCopy(state);\n        payload.isDirty = true;\n\n        const elementPath = `.formValues.${elementName}`;\n        const fieldErrors = validateFormValue(controlValue, validationRules);\n\n        set(payload, elementPath, controlValue);\n        payload.formErrors[elementName] = fieldErrors;\n\n        dispatch({type: 'CHANGED_FIELD', payload});\n    };\n\n    const formApi = {\n            push: (data, path) => {\n                const newElement = deepCopy(data);\n                const newFormState = deepCopy(state);\n                const current = get(newFormState, `.formValues.${path}`, []);\n                current.push(newElement);\n                dispatch({type: 'ARRAY_MUTATED', payload: newFormState});\n                return newFormState;\n            },\n            getArrayValues: (path) => {\n                return get(state, `.formValues.${path}`, []);\n            },\n            removeAt: (path, index) =>{\n                const newFormState = deepCopy(state);\n                const current = get(newFormState, `.formValues.${path}`, []);\n                current.splice(index, 1);\n                dispatch({type: 'ARRAY_MUTATED', payload: newFormState});\n            },\n            setField:(name, value, validationRules, reValidate = true) => {\n                setTimeout(() =>onFieldChanged(null, validationRules, name, value),0);\n            },\n            revertForm: () => {\n                const payload =  {\n                    formValues: formInitials.current,\n                    formErrors: {}, \n                    isDirty: false\n                };\n                dispatch({type: 'ARRAY_MUTATED', payload});\n                console.log(formInitials.current);\n            }\n    }\n\n    const onFormSubmit = (e) => {\n\n        e.preventDefault();\n        const {formErrors, isDirty} = state;\n        let freeOfErrors = true;\n\n        for(let el in formErrors) {\n            const val = formErrors[el];\n           if(Array.isArray(val) && val.length > 0) {\n            freeOfErrors = false;\n           }\n        }\n\n        if(freeOfErrors && isDirty) {\n            const values = onBeforeSubmit(state.formValues);\n            onSubmit(values);\n        }\n\n        return false;\n    }\n\n    const onFieldBlur = (event) => {\n        /*\n\n        */\n    };\n    \n    return {\n        formValues: state.formValues, \n        formErrors: state.formErrors, \n        isDirty: state.isDirty, \n        onFieldChanged, \n        onFieldBlur,\n        onSubmit: onFormSubmit,\n        formApi\n    };\n}","import {createContext} from 'react';\nimport { useForm } from '../hooks/useForm';\n\nexport const FormContext = createContext(null);\n\nconst FormContextProvider = ({children, val}) => {\n    return <FormContext.Provider value={val}>\n        {children}\n    </FormContext.Provider>\n}\n\nexport const FormikContext = ({initialValues, children, onFormSubmit, onProcess}) => {\n    const {\n        formValues, \n        formErrors, \n        onFieldChanged, \n        onFieldBlur, \n        onSubmit, \n        formApi, \n        isDirty\n    } = useForm(initialValues, onFormSubmit, onProcess);\n\n    return <form onSubmit={onSubmit}>\n        <FormContextProvider val={{formValues, formErrors, isDirty, onFieldChanged, onFieldBlur, formApi}}>\n            {children}\n        </FormContextProvider>\n    </form>\n}","export const If = ({condition, children}) => {\n    if (condition) return <> {children} </>\n    return null;\n}","import { If } from \"./if\"\n\nexport const Heading = ({label, type=\"h2\", children}) => {\n    return <div>\n            <If condition={type===\"h1\"}>\n                <h1> {label} {children} </h1>\n            </If>\n            <If condition={type===\"h2\"}>\n                <h2> {label} {children} </h2>\n            </If>\n            <If condition={type===\"h3\"}>\n                <h2> {label} {children} </h2>\n            </If>\n        </div>\n}\n","import {useContext} from \"react\";\nimport { FormContext } from \"../form/form-wrapper\";\n\n\nexport const useFormValues = () => {\n    const {formValues} = useContext(FormContext);\n    return formValues;\n}","import { If } from \"../blocks/if\"\n\nexport const Button = ({\n        onClick, \n        label, \n        type=\"button\", \n        icon=\"\", \n        buttonClass=\"regular\", \n        disabled=false,\n        ripple=true, \n        children,\n        ...rest\n    }) => {\n    const classNames= `${ripple ? 'ripple' : ''}  ${buttonClass}`\n    return <div className=\"control-button\">\n            <button \n                onClick={onClick} \n                className={classNames}\n                disabled={disabled}\n                type={type}\n                {...rest}\n                >\n                    <If condition={icon}>\n                        <img src={`/${icon}.png`} width=\"15\" alt=\"add new\"/>\n                    </If>\n                    {children} {label}\n            </button>\n        </div>\n}","import {useContext} from \"react\";\nimport { FormContext } from \"../form/form-wrapper\";\n\nexport const useFormApi = () => {\n    const {formApi} = useContext(FormContext);\n    return formApi;\n}","export const newElement = {\n    project: 'Terra',\n    details: 'Project Details',\n    duration: 12,\n    units: ' '\n}","import { Button } from \"../ui/form/input-button\";\nimport { useFormApi } from \"../ui/hooks/use-form-api\";\nimport { newElement } from \"../meta/fake-single-element\";\nimport { useCallback } from \"react\";\n\nexport const NewProjectDetails = () => {\n    const {push} = useFormApi();\n    \n    const addNewDetail = useCallback(() => {\n        push(newElement, '.notes')\n    });\n    \n    return <Button type=\"img\" icon=\"add\" onClick={addNewDetail} label=\"New\" role=\"addNew\" />\n}","export const textValidationRules = {\n    isRequired: {\n        errorText: \"Please, select a project\",\n    }\n}\n\nexport const durationValidationRules = {\n    isNumber: {\n        errorText: \"Value is not a Number\",\n    },\n    isBetween: {\n        errorText: \"Should be Number and in ranfe of [1...100]\",\n        meta: {min:1, max: 100}\n    }\n}\n\nexport const projectValidationRules = {\n    isRequired: {\n        errorText: \"Please, provide Project description\",\n    }\n}\n\nexport const unitValidationRules = {\n    isRequired: {\n        errorText: \"Unit is required\",\n    }\n}","import {useContext} from \"react\";\nimport { FormContext } from \"../form/form-wrapper\";\n\nexport const useControllHandler = () => {\n    const {onFieldChanged} = useContext(FormContext);\n    return onFieldChanged;\n}","import {useContext} from \"react\";\nimport { get } from \"../../lib/utils\";\nimport { FormContext } from \"../form/form-wrapper\";\n\nexport const useFormValue = (controlName) => {\n    const {formValues} = useContext(FormContext);\n    const elValue = get(formValues, controlName, null)\n    return elValue;\n}","import { If } from \"./if\"\n\nexport const FormErrors = ({validationErrors}) => {\n    return <If condition={validationErrors.length > 0}>\n        <div className=\"error-block\">\n            {\n                validationErrors.map(err => <span key={err}>{err}</span>)\n            }\n        </div>\n    </If>\n}","import { FormErrors } from \"../../blocks/form-errors\";\n\nexport const TextInputControll = ({onChange, onBlur, value, name, label, validationErrors }) => {\n    return <div className=\"form__group\">\n        <input \n            type=\"text\" \n            id={name} \n            name={name} \n            onChange={onChange} \n            onBlur={onBlur} \n            value={value}  \n            className=\"form__field\" \n            placeholder={label} \n        />\n        <label htmlFor={name} className=\"form__label\">{label}</label>\n        <FormErrors validationErrors={validationErrors} />\n     </div>\n}","import {useContext} from \"react\";\nimport { FormContext } from \"../form/form-wrapper\";\n\n\nexport const useControllError = (path) => {\n    const {formErrors} = useContext(FormContext);\n    return formErrors[path] || [];\n}\n\n","import { useControllHandler } from \"../hooks/use-form-handler\";\nimport { useFormValue } from \"../hooks/use-form-value\";\nimport { TextInputControll } from \"./elements/input\";\nimport { useControllError } from \"../hooks/use-controll-error\";\n\nexport const InputField = ({name, label, type=\"text\", validationRules}) => {\n    const val = useFormValue(name);\n    const fieldErrors = useControllError(name);\n    const onChange = useControllHandler();\n\n    const onFieldChanged = (event) => {\n        onChange(event, validationRules);\n    }\n\n    return <TextInputControll \n        onChange={onFieldChanged} \n        onBlur={() =>{}} \n        value={val}\n        name={name}\n        label={label}\n        type={type}\n        validationErrors={fieldErrors}\n    />\n}","import React from \"react\";\nimport { FormErrors } from \"../../blocks/form-errors\";\n\nexport const TextAreatControll = ({onChange, onBlur, value, name, label, validationErrors, rows=6 }) => {\n    return <div className=\"form__group\">\n            <textarea \n                id={name}\n                name={name}\n                className=\"form__field\"\n                placeholder={label}\n                onChange={onChange}\n                rows={rows}\n                onBlur={onBlur} \n                value={value}\n            />\n            <label\n                for={name} \n                className=\"form__label\">{label}\n             </label>\n            <FormErrors validationErrors={validationErrors} />\n  </div>\n};","import { useControllHandler } from \"../hooks/use-form-handler\";\nimport { useFormValue } from \"../hooks/use-form-value\";\nimport { useControllError } from \"../hooks/use-controll-error\";\nimport { TextAreatControll } from \"./elements/text-area\";\n\nexport const InputMultiline= ({name, label,validationRules}) => {\n    const val = useFormValue(name);\n    const fieldErrors = useControllError(name);\n    const onChange = useControllHandler();\n\n    const onFieldChanged = (event) => {\n        onChange(event, validationRules);\n    }\n\n    return <TextAreatControll\n        onChange={onFieldChanged} \n        onBlur={() =>{}} \n        value={val}\n        name={name}\n        label={label}\n        validationErrors={fieldErrors}\n    />\n}","import { useCallback } from \"react\";\nimport { useFormApi } from \"../hooks/use-form-api\"\nimport { Button } from \"./input-button\";\n\nexport const RemoveElement = ({index, path, buttonClass=\"icon__remove\"}) => {\n    const {removeAt} = useFormApi();\n    const onRemove = useCallback(() => {\n        removeAt(path, index);\n    });\n    \n    return <Button onClick={onRemove} buttonClass={buttonClass} ripple={false} icon=\"trash\" />\n}","import React from \"react\";\nimport { FormErrors } from \"../../blocks/form-errors\";\n\nexport const SelectControll = React.forwardRef((props, ref) => {\n    return (\n        <div className=\"form__group\">\n        <select \n                id={props.name}\n                name={props.name}\n                className=\"form__field\" \n                placeholder={props.label}\n                onChange={props.onChange}\n                value={props.elValue}\n                ref={ref} \n        >\n            {\n                props.options.map(({ value, label }) =>{\n                    return <option value={value} key={label}>\n                        {label}\n                    </option>\n                })\n            }\n        </select>\n        <label htmlFor=\"message\" className=\"form__label\">{props.label}</label>\n        <FormErrors validationErrors={props.validationErrors} />\n    </div>\n    );\n  })","import React from \"react\";\nimport { useControllHandler } from \"../hooks/use-form-handler\";\nimport { useFormValue } from \"../hooks/use-form-value\";\nimport { SelectControll } from \"./elements/select\";\nimport { useControllError } from \"../hooks/use-controll-error\";\nimport { useFormApi } from \"../hooks/use-form-api\";\n\nexport const SelectField = ({name, label, validationRules, options=[], isDynamic = false, fieldSrc= null}) => {\n    let val = useFormValue(name);\n    const ref = React.createRef();\n    const fieldErrors = useControllError(name);\n    const onChange = useControllHandler();\n    const {getArrayValues, setField} = useFormApi();\n\n    const onFieldChanged = (event) => {\n        onChange(event, validationRules);\n    }\n\n    let finalOptions = !isDynamic ? options : [...getArrayValues(fieldSrc)];\n    const isInFieldOptions = finalOptions.find(el => el.value === val)\n\n    if(!isInFieldOptions) {\n        finalOptions = finalOptions.filter(el => el.value !== val);\n        finalOptions.splice(0, 0, {value: '', label:''});\n        if(val) {\n                setField(name, '', validationRules)\n        }\n       \n    }\n\n    return <SelectControll\n            onChange={onFieldChanged} \n            onBlur={() =>{}} \n            elValue={val}\n            name={name}\n            label={label}\n            ref={ref}\n            options={finalOptions}\n            validationErrors={fieldErrors}\n        />\n}","import { textValidationRules, durationValidationRules, unitValidationRules,projectValidationRules } from \"../meta\";\nimport { InputField } from \"../ui/form/input-field\";\nimport { InputMultiline } from \"../ui/form/input-multiline\";\nimport { RemoveElement } from \"../ui/form/remove-field\";\nimport { SelectField } from \"../ui/form/select-field\";\n\nexport const ProjectInfo = ({path='', index, base}) => {\n    return <div className=\"project__info\" role=\"project-info\">\n            <h4>Project Details:</h4>\n            <div className=\"project__info__controll__pane\">\n                <div className=\"project__info__controll__remove\">\n                    <RemoveElement path={base} index={index} />\n                </div> \n            </div>\n            <div className=\"project__info__general_info\">\n                <SelectField \n                    name={`${path}.project`} \n                    label=\"Project Name\" \n                    validationRules={textValidationRules}\n                    isDynamic\n                    fieldSrc=\".projectNames\"\n                />\n                <InputMultiline\n                    name={`${path}.details`} \n                    label=\"Project Details\" \n                    validationRules={projectValidationRules}\n                />\n            </div>\n            <div className=\"project__info__duration__period\">\n                <div className=\"project__info__pane\">\n                    <InputField \n                        name={`${path}.duration`} \n                        label=\"Duration\" \n                        validationRules={durationValidationRules} \n                    />\n                </div>\n                <div className=\"project__info__pane\">\n                    <SelectField \n                        name={`${path}.units`} \n                        label=\"Units\" \n                        validationRules={unitValidationRules}\n                        isDynamic\n                        fieldSrc=\".units\"\n                    />\n                </div>\n            </div>\n        </div>\n}","import { Heading } from \"../ui/blocks/heading\";\nimport { useFormValues } from \"../ui/hooks/use-form-values\";\nimport { NewProjectDetails } from \"./new-project\";\nimport { ProjectInfo } from \"./project-info\";\n\nexport const Projects = () => {\n   const formValues = useFormValues();\n   return <div className=\"projects\" role=\"project-notes-cantainer\">\n       <Heading label=\"Projects\">\n            <NewProjectDetails />\n        </Heading>\n       {\n           formValues\n            .notes\n            .map((n, index) =>{\n                const path = `.notes[${index}]`;\n                const base = \".notes\";\n                return  <ProjectInfo path={path} key={path} index={index} base={base} />\n            })\n       }\n   </div>\n}","import { useFormValues } from \"../ui/hooks/use-form-values\"\n\nexport const Dump = () => {\n    const values = useFormValues();\n    return <div>\n        <h1>Form dump</h1>\n        <pre>\n            {JSON.stringify(values, null, 2)}\n        </pre>\n    </div>\n}","export const Container = ({children}) => {\n    return <div className=\"layout\"><div className=\"wrapper\">\n        <section className=\"content\"> \n            <div className=\"columns\">\n                 {children}\n            </div>  \n        </section>\n     </div>\n    </div> \n}","export const Column = ({children, cssClass}) => {\n    return <div className={cssClass}>{children}</div>\n}","import {memo} from \"react\";\nimport { useFormErrors } from \"../ui/hooks/use-form-errors\";\n\nexport const FormSave = memo(() => {\n    const formErrors = useFormErrors();\n    return <div>\n        <pre>{JSON.stringify(formErrors, null, 2)}</pre>\n    </div>\n});","import {useContext} from \"react\";\nimport { FormContext } from \"../form/form-wrapper\";\n\n\nexport const useFormErrors = () => {\n    const {formErrors} = useContext(FormContext);\n    return formErrors;\n}","import React, { useCallback } from \"react\";\nimport { useFormApi } from \"../hooks/use-form-api\";\n\nexport const InputTag = ({path}) => {\n    const ref=React.useRef();\n    const elementRef = React.useRef();\n    const {push} = useFormApi();\n    \n    const onKey = useCallback((e) => {\n        console.log(e.code);\n        if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n            console.log(\"Adding new\");\n            push({label: ref.current, value: ref.current}, \".projectNames\");\n            elementRef.current.value = '';\n        }\n    });\n\n    const onChange = useCallback((e) => {\n        ref.current = e.target.value;\n    });\n\n    return <div className=\"tag__controll\"> \n            <input \n                className=\"tag__input\"\n                type=\"text\" \n                onKeyPress={onKey} \n                onChange={onChange} \n                ref={elementRef} \n            />\n        </div>\n}","import { RemoveElement } from \"./remove-field\";\n\nexport const Tag = ({index, base, label}) => {\n\n    return <div className=\"tag__controll\">\n        <RemoveElement \n            index={index} \n            path={base}  \n            buttonClass=\"icon__destroy\" \n        />\n        <span>{label}</span>   \n    </div> \n}","import { InputTag } from \"../ui/form/input-tag\";\nimport { Tag } from \"../ui/form/tag\";\nimport { useFormValues } from \"../ui/hooks/use-form-values\";\n\nexport const ProjectTags = () => {\n   const formValues = useFormValues();\n   return <div className=\"projects__tags\" role=\"project-tags-cantainer\">\n       <div>\n            {\n                formValues\n                    .projectNames\n                    .map((v, index) =>{\n                        const path = `.projectNames[${index}]`;\n                        const base = \".projectNames\";\n                        return  <Tag path={path} key={path} index={index} base={base} label={v.value} />\n                    })\n            }\n            <InputTag />\n       </div>       \n   </div>\n}","import { textValidationRules } from \"../meta\"\nimport { InputField } from \"../ui/form/input-field\"\n\nexport const UserName = () => {\n    return <div>\n        <h3>User Name </h3>\n        <InputField \n            name=\".userName\"\n            label=\"User Name\" \n            validationRules={textValidationRules} \n        />\n    </div>\n}","export const initialFakeValues = {\n    test:{\n      id: 1342\n    },\n    userName: 'John Doe',\n    projectNames: [\n      {label:\"Bank\", value: \"Bank\"},\n      {label: \"Tank\", value: \"Tank\"},\n      {label: \"Sank\", value: \"Sank\"},\n  \n    ],\n    units: [\n      {label:\"Story points\", value: \"sp\"},\n      {label:\"Human Hours\", value: \"hh\"},\n      {label:\"Epic Points\", value: \"ep\"}\n    ],\n    notes: [\n        {\n            project: 'Sank',\n            details: 'Abidos details',\n            duration: 1,\n            units: 'sp'\n        },\n        {\n            project: 'Tank',\n            details: 'details',\n            duration: 12,\n            units: 'hh'\n        }\n    ]\n  }","import { useCallback } from \"react\";\nimport { If } from \"../ui/blocks/if\";\nimport { Button } from \"../ui/form/input-button\";\nimport { useFormApi } from \"../ui/hooks/use-form-api\";\nimport { useFormValue } from \"../ui/hooks/use-form-value\";\nimport { useIsSubmittable } from \"../ui/hooks/use-is-submittable\";\n\nexport const FormControlls = () => {\n    const {revertForm} = useFormApi();\n    const isOk = useIsSubmittable();\n    const notes = useFormValue(\".notes\");\n    const reloadForm = useCallback(() => {revertForm()});\n    \n    return <div className=\"form__controlls_submit\">\n        <If condition={notes.length > 0}>\n            <Button type=\"submit\" disabled={!isOk}>Send Data</Button>\n            <Button onClick={reloadForm} buttonClass=\"secondary\"> Cancel </Button>\n        </If>\n        <If condition={notes.length == 0}>\n            <div>\n                <h3>Please add some notes</h3>\n                <p> It makes no sense to send form without project notes!</p>\n            </div>\n        </If>\n    </div>\n}","import {useContext} from \"react\";\nimport { FormContext } from \"../form/form-wrapper\";\n\nexport const useIsSubmittable = () => {\n    const {formErrors, isDirty} = useContext(FormContext);\n    let freeOfErrors = true;\n    for(let el in formErrors) {\n        const val = formErrors[el];\n       if(Array.isArray(val) && val.length > 0) {\n        freeOfErrors = false;\n       }\n    }\n    return freeOfErrors && isDirty;\n}","import { FormikContext } from './ui/form/form-wrapper';\nimport { Projects } from './components/projects';\nimport { Dump } from './components/dump';\nimport { Container } from './ui/layout/container';\nimport { Column } from './ui/layout/columns';\nimport { FormSave } from './components/form-save';\nimport { ProjectTags } from './components/project-tags';\nimport { UserName } from './components/user-name';\nimport { initialFakeValues } from './meta/fake-values';\nimport { FormControlls } from './components/form-controlls';\nimport { useCallback } from 'react';\n\nfunction App() {\n  const onProcess = useCallback((formValues) => {\n    return {\n        userName: formValues.userName,\n        notes: formValues.notes\n      }\n    });\n\n    const onFormSubmit = useCallback((formValues) => {\n        alert('check console.log');\n        console.log(formValues);\n    });\n\n  return <div>\n    <FormikContext \n      initialValues={initialFakeValues} \n      onFormSubmit={onFormSubmit} \n      onProcess={onProcess} \n    >\n      <Container>\n        <Column cssClass=\"main\">\n          <UserName />\n          <ProjectTags />\n          <Projects />\n          <FormControlls />\n        </Column>\n        <Column cssClass=\"sidebar\">\n          <Dump />\n          <FormSave />\n        </Column>\n      </Container>\n    </FormikContext>\n\n  </div>\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reactToWebComponent from \"react-to-webcomponent\";\n\nclass WebComponentApp extends React.Component {\n    render() {\n      return <App />;\n    }\n  }\n  \n  \n  customElements.define(\"web-app\", reactToWebComponent(WebComponentApp, React, ReactDOM) );\n"],"sourceRoot":""}